spring.application.name=kabengosafaris
# -----------------------------------------
# Database Configuration
# -----------------------------------------
spring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/springboot_itineraryledger_kabengosafaris
spring.datasource.username=root
spring.datasource.password=

# -----------------------------------------
# JPA / Hibernate Configuration
# -----------------------------------------

# Allows Spring JPA to generate DDL (tables, constraints) based on your entities
spring.jpa.generate-ddl=true

# Tells Hibernate to automatically update the database schema to match entities
# (useful in dev, not recommended for production)
# spring.jpa.hibernate.ddl.auto=update

# Same as above (preferred property name); keeps schema updated automatically
spring.jpa.hibernate.ddl-auto=update

# Set the Hibernate SQL dialect so it generates SQL optimized for MySQL 8
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

# Format generated SQL queries for readable logging output
spring.jpa.properties.hibernate.format-sql=true


# -----------------------------------------
# Server / Error Handling
# -----------------------------------------

# Include error messages in API error responses (helpful for debugging)
server.error.include-message=always

# -----------------------------------------
# SQL Initialization
# -----------------------------------------

# Disable running schema.sql or data.sql files at startup
spring.sql.init.mode=never

# -----------------------------------------
# Server Port
# -----------------------------------------

# Change the default server port from 8080 to 4450
server.port=4450

# -----------------------------------------
# Dev Tools
# -----------------------------------------

# Enable automatic restart when Java files change (for faster development)
spring.devtools.restart.enabled=true

# -----------------------------------------
# Logging Configuration
# -----------------------------------------

# Set logging levels for different packages
logging.level.root=INFO
logging.level.com.itineraryledger.kabengosafaris=DEBUG
logging.level.org.springframework.security=DEBUG

# -----------------------------------------
# Audit Logging Configuration
# -----------------------------------------
# NOTE: These are FALLBACK/DEFAULT values. The actual configuration is stored in the
# 'audit_log_config' database table and can be dynamically modified at runtime via
# AuditLogConfigService without requiring an application restart.
#
# The AuditLogConfigInitializer component (runs at application startup) loads these
# default values into the database if they don't already exist.

# Enable async processing for audit logs to avoid blocking requests
spring.task.execution.pool.core-size=2
spring.task.execution.pool.max-size=5
spring.task.execution.pool.queue-capacity=100

# Audit log retention (in days) - logs older than this will be cleaned up
audit.log.retention.days=90

# Enable or disable audit logging globally
audit.log.enabled=true

# -----------------------------------------
# Security Settings Configuration
# -----------------------------------------
# NOTE: These are FALLBACK/DEFAULT values used if database settings are not available.
# The actual configuration is stored in the 'security_settings' database table and can be
# dynamically modified at runtime via SecuritySettingsService.
#
# The SecuritySettingsInitializer component (runs at application startup with highest priority)
# loads these values into the database if they don't already exist.

# JWT Token Settings
security.jwt.expiration.time.minutes=180
security.jwt.refresh.expiration.time.minutes=10080
security.jwt.issuer=kabengosafaris
security.jwt.algorithm=HS256

# ID Obfuscation Settings
security.idObfuscator.obfuscated.length=70
security.idObfuscator.salt.length=21
security.idObfuscator.enabled=true
security.idObfuscator.algorithm=hashids

# Password Policy Settings
security.password.min.length=8
security.password.max.length=128
security.password.require.uppercase=true
security.password.require.lowercase=true
security.password.require.numbers=true
security.password.require.special.characters=true
security.password.expiration.days=90
security.password.history.count=5

# Account Lockout Settings
security.account-lockout.max-failed-attempts=5
security.account-lockout.lockout-duration-minutes=30
security.account-lockout.enabled=true
security.account-lockout.counter-reset-hours=24

# Login Rate Limiting Settings (Token Bucket Algorithm)
security.login-rate-limit.max-capacity=5
security.login-rate-limit.refill-rate=5
security.login-rate-limit.refill-duration-minutes=1

# -----------------------------------------
# Session Management
# -----------------------------------------
# Disable Spring Session JDBC
spring.session.store-type=none
# OR exclude the auto-configuration
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.session.SessionAutoConfiguration

# -----------------------------------------
# Email Configuration & Encryption
# -----------------------------------------
# Encryption key for email configuration secrets
# Format: Base64-encoded AES-256 key (32 bytes / 256 bits)
# Generate a key: You can use an online base64 encoder or set EMAIL_ENCRYPTION_KEY environment variable
# For production, ALWAYS set the EMAIL_ENCRYPTION_KEY environment variable instead of hardcoding here
# email.encryption.key=YOUR_BASE64_ENCODED_KEY_HERE